<!DOCTYPE html>
<html>
<head>
 <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
 <link rel="stylesheet" href="app.css">
 <script src="app.js"></script>
 <title>SinSyn - Sinusoidal Synthesizer</title>
</head>
<body>

<script>
 if (!window.Promise) {
    document.write('<p style="color: red; font-size: 20px; font-weight: bold;">Sorry, your web browser is outdated and cannot run this application!</p>'); }
</script>

<h1>SinSyn - Sinusoidal Synthesizer</h1>

<div class="parmBlock">
 <label for="components">Components:</label>
 <input id="components" type="text" class="code">
 <span id="componentsHelpButton" class="miniPseudoButton">Help</span>
</div>
<div id="componentsHelpText" class="hidden">
 The components string specifies the sinusoidal components of the sound.<br>
 Examples:<br>
  &nbsp;&nbsp;&nbsp;&nbsp;<code><a href="#components=440+660+880">440 660 880</a></code><br>
  &nbsp;&nbsp;&nbsp;&nbsp;<code><a href="#components=440/0+660/-10+880/-20">440/0 660/-10 880/-20</a></code><br>
  &nbsp;&nbsp;&nbsp;&nbsp;<code><a href="#components=235.5+*3/-2.5+*5/-6+*7/-17+*9/-6+*11/-18.4+*13/-15.4&amp;fadingDuration=0.15&amp;ref=clarinet-like">235.5 *3/-2.5 *5/-6 *7/-17 *9/-6 *11/-18.4 *13/-15.4</a></code>&nbsp;&nbsp;(clarinet-like)<br>
  &nbsp;&nbsp;&nbsp;&nbsp;<code><a href="#components=+440/0/0+443/0/0.5&amp;ref=3Hz+beat">440/0/0 443/0/0.5</a></code>&nbsp;&nbsp;(3Hz beat)<br>
 A component has the format <code>freq</code>, <code>freq</code>/<code>ampl</code> or <code>freq</code>/<code>ampl</code>/<code>phase</code>.<br>
 <code>freq</code> is an absolute frequency in Hz or a relative frequency in the format <code>*factor</code>.<br>
 A relative frequency, specified with <code>*</code>, is relative to the last absolute frequency.<br>
 <code>ampl</code> is a relative amplitude in dB.
 The overall amplitude is normalized for not exceeding<br> the maximum amplitude range and keeping the power of the sound mostly constant.<br>
 <code>phase</code> is a number in the range 0 to 1, where 1 corresponds to a phase of 2&pi; in radians. The default value is 0
</div>
<div class="parmBlock">
 <label for="duration">Duration [s]:</label>
 <input id="duration" type="number" step="any" min="0" max="1000" required class="code">
 <label id="fadingDurationLabel" for="fadingDuration" title="Fade in / fade out time in seconds.">Fading [s]:</label>
 <input id="fadingDuration" type="number" step="any" min="0" required class="code">
 <label id="referenceLabel" for="reference" title="An arbitrary text which will be stored in the URL and used in the name of the WAV file.">Reference:</label>
 <input id="reference" type="text">
</div>
<div class="actionButtons">
 <button id="playButton">Play</button>
 <button id="wavFileButton">WAV file</button>
 <span>Highest common factor [Hz]:&nbsp; <span id="gcd"></span></span>
</div>

<canvas id="spectrumViewer" tabindex="-1">
</canvas>
<div class="miniButtonsBelow">
 <div id="spectrumViewerHelpButton" class="miniPseudoButton">Help</div>
 <div id="spectrumViewerRangeButton" class="miniPseudoButton">Range</div>
</div>
<div id="spectrumViewerHelpText" class="hidden"></div>
<div id="spectrumViewerRangeParms" class="hidden">
 <label for="spectrumYMin">Amplitude [dB]:</label>
 <input id="spectrumYMin" type="number" step="any" class="code">
 <label>-</label>
 <input id="spectrumYMax" type="number" step="any" class="code">
 <label for="spectrumXMin" class="gap">Frequency [Hz]:</label>
 <input id="spectrumXMin" type="number" step="any" class="code">
 <label>-</label>
 <input id="spectrumXMax" type="number" step="any" class="code">
</div>

<canvas id="curveViewer" tabindex="-1">
</canvas>
<div class="miniButtonsBelow">
 <div id="curveViewerHelpButton" class="miniPseudoButton">Help</div>
</div>
<div id="curveViewerHelpText" class="hidden"></div>

<div class="footer">
Source code: &nbsp;<a href="https://github.com/chdh/sin-syn">Github</a>
</div>

</body>
</html>
